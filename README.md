# test_moon

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ üåì

- REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏, –∏—Ö –∑–¥–∞–Ω–∏—è–º–∏ –∏ –≤–∏–¥–∞–º–∏ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
- –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ª—É–∫–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, —Ö–æ—Ç—è –º–µ—Å—Ç–∞–º–∏ —è —É—Ö–æ–¥–∏–ª –æ—Ç —ç—Ç–æ–≥–æ. –ù–û —Å—Ç–∞—Ä–∞—Ç–µ–ª—å–Ω–æ –ø—ã—Ç–∞–ª—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —á–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞.
- dataclass, Redis –∏ —Ç–µ–º –±–æ–ª–µ–µ RabbitMQ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –≤–≤–∏–¥—É –∏—Ö –∫—Ä–∞–π–Ω–µ–π –∏–∑–±—ã—Ç—ã—á–Ω–æ—Å—Ç–∏ –¥–ª—è —Å—Ç–æ–ª—å –º–µ–ª–∫–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –Ω–æ –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —á—Ç–æ-–ª–∏–±–æ –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å, —Ç–æ –ø–∏—à–∏—Ç–µ!

- –ü–æ –ª—é–±—ã–º –≤–æ–ø—Ä–æ—Å–∞–º –ø–æ –∫–æ–¥—É, –ø–∏—Å–∞—Ç—å –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–º, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑–∞–Ω –≤ –∫–æ–Ω—Ü–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
---

## –®–∞–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ üöÄ
1. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:
```bash
    git clone https://github.com/gol43/test_moon.git   

    cd test_moon
```

2. **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**:
```bash
    python -m venv venv

    source venv/bin/activate
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
```bash
    pip install -r requirements.txt
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞ üß∞

1. **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ —Å –¥–∞–Ω–Ω—ã–º–∏ (–ø—Ä–∏–º–µ—Ä)** ‚öôÔ∏è
```bash
POSTGRES_USER=postgres
POSTGRES_PASSWORD=1234
POSTGRES_DB=test_moon
POSTGRES_HOST=db
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
```

2. **–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** üê≥
```bash
docker compose up -d
```

3. **–°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –∏ –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**
```bash
docker exec -it test_moon_api bash

alembic revision --autogenerate -m "initial"

alembic upgrade head
```

4. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ë–î** üå±

–ù—É–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ swagger: http://127.0.0.1:8000/api/v1/moon/docs#/

–ò –Ω–∞–π—Ç–∏ –≤ —Å–∞–º–æ–º –Ω–∏–∑—É —Ä—É—á–∫—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç—å –µ—ë:
![alt text](image.png)


5. **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä—É—á–∫–∏ /api/v1/organizations/by_geo**
–í–æ—Ç –ø—Ä–∏–º–µ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω–æ–π —Ä—É—á–∫–∏:
- –ü—Ä–∏ —Ç–∞–∫–∏—Ö –∑–¥–∞–Ω–∏—è—Ö: 
```bash
[
  {
    "id": 1,
    "address": "—É–ª. –õ–µ–Ω–∏–Ω–∞, –¥.1",
    "coordinates": {"lat": 54.7104, "lon": 20.5110}
  },
  {
    "id": 2,
    "address": "—É–ª. –ü—É—à–∫–∏–Ω–∞, –¥.5",
    "coordinates": {"lat": 54.7200, "lon": 20.5200}
  },
  {
    "id": 3,
    "address": "—É–ª. –ì–∞–≥–∞—Ä–∏–Ω–∞, –¥.10",
    "coordinates": {"lat": 54.7300, "lon": 20.5300}
  }
]
```

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:
```bash
lat_min = 54.7150
lon_min = 20.5000
lat_max = 54.7250
lon_max = 20.5250
```

--- 

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω:  
**–°–∞–π–≥—É—à–µ–≤ –î–∞–º–∏—Ä –î–∞–Ω–∏—è—Ä–æ–≤–∏—á**  
- GitHub: [gol43](https://github.com/gol43)  
- Telegram: [@spongedmw](https://t.me/spongedmw)

---
